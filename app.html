<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style>

    #principal{
      text-align: center;
    }

    #opciones, #principal{
      text-align: center;
    }
    .cont{
      display: inline-block;
      margin:30px;
    }
    </style>
  </head>
  <body>
    <div id="principal">
    <h1>Elige d√≠a</h1>

    <input id="fecha" type="date" name="fecha">
    <br>
    <br>

    <input  id="lugar" type="text" name="lugar">
    <br>

    <button id="crear">Crear</button>
    </div>

    <div id="opciones">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script>


    var contador=0;

    $("#crear").click(function(){

      $("#opciones").append("<h1>"+ $("#fecha").val() + "</h1><br><h1>"+$("#lugar").val().trim()+"</h1>");
      $("#opciones").append("<button class=sumar>"+"+1"+"</button>");

    })

     $(document).on("click", ".sumar",  function(event){

       contador++
       console.log(contador)

       $(event.currentTarget).click(function(){

         $(".sumar").text(contador);
       })



     })



    $("#crear").click(function(){
      var fecha=$("#fecha").val()
      var lugar=$("#lugar").val().trim()
      if(fecha||lugar){
        $("#opciones").append("<div class=cont> <h1>"+ fecha + "</h1><br><h1>"+lugar+"</h1> <button class=sumar>0</button> <button class=restar>-</button></div>");
      }else{
        alert("Es necesario rellenar fecha y hora");
      };


    });
     $(document).on("click", ".sumar",  function(event){

        if(!$("button.sumar").hasClass("clickado")){
          var sumar=parseInt($(event.currentTarget).text())+1;
          console.log(sumar);
          $(event.currentTarget).text(sumar);
           $("button.sumar").addClass("clickado");
           $("button.restar").removeClass("clickado2");
        };

     });

     $(document).on("click", ".restar",  function(event){
       if(!$("button.restar").hasClass("clickado2")){
         var restar=parseInt($(event.currentTarget).prev().text());
         if(restar>=1){
           restar--
         }else{
           restar=0;
         };
         console.log(restar);
         $(event.currentTarget).prev().text(restar);
         $("button.restar").addClass("clickado2");
         $("button.sumar").removeClass("clickado");
        }
     });


    </script>
  </body>
</html>
